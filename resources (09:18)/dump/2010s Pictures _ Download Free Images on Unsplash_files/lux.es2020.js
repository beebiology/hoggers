var LUX=LUX||{};LUX.customerid="140493345";LUX["samplerate"]=20;!function(){"use strict";const t=Math.max,e=Math.floor,n=Math.round;function o(e){return t(0,e)}function i(t,e){return t-e}function r(){return Date.now?Date.now():+new Date}var s=r();const a=window.performance||{},c=a.timing||{navigationStart:window.LUX?.ns||s};function l(){return a.navigation&&void 0!==a.navigation.type?a.navigation.type:""}function u(){const t=f("navigation");if(t.length){const e=t[0],n={navigationStart:0,activationStart:0};for(const t in e)n[t]=e[t];return n}const e=l();return{navigationStart:0,activationStart:0,startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"}}function f(t){if("function"==typeof a.getEntriesByType){const e=a.getEntriesByType(t);if(e&&e.length)return e}return[]}function d(t){if("function"==typeof a.getEntriesByName){const e=a.getEntriesByName(t);if(e&&e.length)return e}return[]}function g(){return!document.visibilityState||"visible"===document.visibilityState}function m(t){!function(t){document.prerendering?document.addEventListener("prerenderingchange",t,!0):t()}(()=>{if(g())t();else{const e=()=>{g()&&(t(),removeEventListener("visibilitychange",e))};addEventListener("visibilitychange",e,!0)}})}function p(){return document.prerendering||u().activationStart>0}const h={},v={};function T(t,e){h[t]||(h[t]=[]),h[t].push(e),void 0!==v[t]&&e(v[t])}function E(t,e){v[t]=e,h[t]&&h[t].forEach(t=>t(e))}function y(t,e){return t|e}function S(t,e,n=!1){addEventListener&&addEventListener(t,e,n)}function b(t,e,n=!1){removeEventListener&&removeEventListener(t,e,n)}const w="LUX_start",L="LUX_end";let U;function D(){return U}function N(){return t(D()||0,u().activationStart,d(w).pop()?.startTime||0)}function P(t){return o(e(t-N()))}function k(){return a.now?e(a.now()):r()-c.navigationStart}function B(){const t=k(),n=d(w).pop();return n?e(t-n.startTime):t}function I(t,e,n){for(;t.length<e;)t=n+t;return t}const x="4.3.3";function F(t=x){const e=t.split(".");return parseFloat(e[0]+"."+I(e[1],2,"0")+I(e[2],2,"0"))}const C="sendBeacon"in navigator?navigator.sendBeacon.bind(navigator):(t,e)=>{const n=new XMLHttpRequest;return n.open("POST",t,!0),n.setRequestHeader("content-type","application/json"),n.send(String(e)),!0};function M(t){return D()||p()?t>=0:t>0}function j(t,e,n){const o=t.slice(0,e.maxBeaconUTEntries),i=t.slice(e.maxBeaconUTEntries);for(;(n+"&UT="+o.join(",")).length>e.maxBeaconUrlLength&&o.length>1;)i.unshift(o.pop());return[o,i]}class R{constructor(t){this.isRecording=!0,this.isSent=!1,this.sendRetries=0,this.maxMeasureTimeout=0,this.flags=0,this.metricCollectors={},this.onBeforeSendCbs=[],this.startTime=t.startTime||N(),this.config=t.config,this.logger=t.logger,this.customerId=t.customerId,this.sessionId=t.sessionId,this.pageId=t.pageId,this.maxMeasureTimeout=window.setTimeout(()=>{this.logger.logEvent(82),this.stopRecording(),this.send()},this.config.maxMeasureTime-B()),S("securitypolicyviolation",t=>{if("report"!==t.disposition&&t.blockedURI===this.config.beaconUrlV2&&"URL"in self){if(!this.config.beaconUrlFallback){const t=new URL(this.config.beaconUrl).origin,e=new URL(this.config.beaconUrlV2).pathname;this.config.beaconUrlFallback=t+e}this.config.beaconUrlV2=this.config.beaconUrlFallback,this.logger.logEvent(90,[this.config.beaconUrlV2]),this.addFlag(4096),this.isSent=!1,this.sendRetries<1&&(this.sendRetries++,this.send())}}),this.logger.logEvent(80)}isBeingSampled(){return parseInt(String(this.sessionId).slice(-2))<this.config.samplerate}stopRecording(){this.isRecording=!1,this.logger.logEvent(86)}addCollector(t,e){this.metricCollectors[t]=e}addFlag(t){this.flags=y(this.flags,t)}beaconUrl(){return this.config.beaconUrlV2}onBeforeSend(t){this.onBeforeSendCbs.push(t)}send(){if(this.isSent)return;this.logger.logEvent(81);for(const t of this.onBeforeSendCbs)t();if(!this.isBeingSampled())return;const t=r(),e={};for(const t in this.metricCollectors){const n=this.metricCollectors[t](this.config);this.logger.logEvent(91,[t,!!n]),n&&(e[t]=n)}if(!Object.keys(e).length&&!this.config.allowEmptyPostBeacon)return void this.logger.logEvent(85);clearTimeout(this.maxMeasureTimeout);const n=this.beaconUrl(),o=Object.assign({customerId:this.customerId,flags:this.flags,measureDuration:B(),collectionDuration:r()-t,pageId:this.pageId,scriptVersion:x,snippetVersion:this.config.snippetVersion,sessionId:this.sessionId,startTime:this.startTime},e);try{C(n,JSON.stringify(o))&&(this.isSent=!0,this.logger.logEvent(83,[n,o]),E("beacon",o))}catch(t){}this.isSent||this.logger.logEvent(89,[n,o])}}var A;function O(t){"complete"===document.readyState?t():S("load",()=>{setTimeout(t,200)})}!function(t){t.CLS="cls",t.INP="inp",t.LCP="lcp",t.LoAF="loaf",t.NavigationTiming="navigationTiming"}(A||(A={}));const H="https://lux.speedcurve.com";function _(t,e,n){return void 0!==t[e]?t[e]:n}const V="lux_uid",X={};let W={};function q(t,e){const n=typeof e,o="undefined"===n||null===e;o||X[t]===e||(W[t]=e),"string"!==n&&"number"!==n&&"boolean"!==n||(X[t]=e),o&&delete X[t]}function J(){return W}function z(t){const e=[];for(let n in t){let o=""+t[n];n=n.replace(/,/g,"").replace(/\|/g,""),o=o.replace(/,/g,"").replace(/\|/g,""),e.push(n+"|"+o)}return encodeURIComponent(e.join(","))}function $(t){if(t.hasAttribute("data-sctrack")){const e=t.getAttribute("data-sctrack")?.trim();if(e)return e}return function(t){if(t.parentNode&&t.parentNode.tagName)return!0;return!1}(t)?$(t.parentNode):null}const G=100;function Y(t,e=""){return function(t,e=""){try{if(e&&(9===t.nodeType||e.length>G||!t.parentNode))return e;const n=t,o=$(n);if(o)return o;if(n.id)return"#"+n.id+(e?">"+e:"");if(n){const t=1===n.nodeType?n.nodeName.toLowerCase():n.nodeName.toUpperCase();let o=n.className?"."+n.className.replace(/\s+/g,"."):"";for(;(t+o).length>G;)o=o.split(".").slice(0,-1).join(".");const i=t+o+(e?">"+e:"");if(n.parentNode){const t=Y(n.parentNode,i);if(t.length<G)return t}return i}}catch(t){}return e}(t,e).slice(0,G)}const K=["utm_source","utm_campaign","utm_medium","utm_term","utm_content"];class Q{constructor(){this.events=[]}logEvent(t,e=[]){this.events.push([r(),t,e])}getEvents(){return this.events}}let Z,tt=0,et=[],nt=[],ot=0;function it(t){if("LayoutShift"in self)return{value:ot,startTime:et[0]?P(et[0].startTime):null,largestEntry:Z?{value:Z.value,startTime:P(Z.startTime)}:null,sources:nt.length?nt.slice(0,t.maxAttributionEntries):null}}let rt=[];function st(t){const n=[];let i=0,r=0,s=0,a=0;return rt.forEach(t=>{const{startTime:c,blockingDuration:l,duration:u,renderStart:f,styleAndLayoutStart:d}=t;i+=u,r+=l,s+=d?o(c+u-d):0,a+=f?f-c:u,n.push({startTime:e(c),duration:e(u),renderStart:e(f),styleAndLayoutStart:e(d),blockingDuration:e(l)})}),{totalBlockingDuration:e(r),totalDuration:e(i),totalEntries:rt.length,totalStyleAndLayoutDuration:e(s),totalWorkDuration:e(a),scripts:at(rt.flatMap(t=>t.scripts),t),entries:n.sort((t,e)=>e.duration-t.duration).slice(0,t.maxAttributionEntries).sort((t,e)=>t.startTime-e.startTime)}}function at(n,o){const i={};return n.forEach(n=>{const o=n.sourceURL;i[o]||(i[o]={sourceUrl:n.sourceURL,sourceFunctionName:"",timings:[],totalEntries:0,totalDuration:0,totalBlockingDuration:0,totalPauseDuration:0,totalForcedStyleAndLayoutDuration:0,invoker:"",inpPhase:n.inpPhase}),i[o].totalEntries++,i[o].totalDuration+=n.duration,i[o].totalBlockingDuration+=t(0,n.duration-50),i[o].totalPauseDuration+=n.pauseDuration,i[o].totalForcedStyleAndLayoutDuration+=n.forcedStyleAndLayoutDuration,i[o].timings.push([e(n.startTime),e(n.duration)])}),Object.values(i).map(t=>({...t,totalDuration:e(t.totalDuration),totalPauseDuration:e(t.totalPauseDuration),totalForcedStyleAndLayoutDuration:e(t.totalForcedStyleAndLayoutDuration)})).sort((t,e)=>e.totalDuration-t.totalDuration).slice(0,o.maxAttributionEntries)}var ct;!function(t){t.InputDelay="ID",t.ProcessingTime="PT",t.PresentationDelay="PD"}(ct||(ct={}));let lt,ut=[],ft={},dt=0;function gt(t){if(t.interactionId||"first-input"===t.entryType&&(e=t,!ut.some(t=>e.startTime===t.startTime&&e.duration===t.duration))){const{duration:e,startTime:n,interactionId:o,name:i,processingStart:r,processingEnd:s,target:a}=t;if(e<0)return;const c=s-r,l=ft[o],u=a?Y(a):null;if(l){const t=e>l.duration,o=e===l.duration&&c>l.processingTime;(t||o)&&(l.duration=e,l.name=i,l.processingEnd=s,l.processingStart=r,l.processingTime=c,l.selector=u,l.startTime=n,l.target=a)}else dt++,ft[o]={duration:e,interactionId:o,name:i,processingEnd:s,processingStart:r,processingTime:c,selector:u,startTime:n,target:a},ut.push(ft[o]);ut.sort((t,e)=>e.duration-t.duration),ut.splice(10).forEach(t=>{delete ft[t.interactionId]})}var e}function mt(){const t=Math.min(ut.length-1,Math.floor(function(){if("interactionCount"in a)return a.interactionCount;return dt}()/50));return ut[t]}function pt(n){const i=mt();if(!i)return;const{duration:r,startTime:s,processingStart:a}=i,c=rt.flatMap(t=>t.scripts).filter(t=>t.startTime+t.duration>=s&&t.startTime<=s+r).map(e=>{const n=JSON.parse(JSON.stringify(e));return n.duration=n.startTime+n.duration-t(s,n.startTime),n.inpPhase=function(t,e){const{processingStart:n,processingTime:o,startTime:i}=e,r=n-i;if(t.startTime<i+r)return ct.InputDelay;if(t.startTime>=i+r+o)return ct.PresentationDelay;return ct.ProcessingTime}(n,i),n}),l=at(c,n);return{value:i.duration,startTime:P(s),duration:i.duration,subParts:{inputDelay:o(e(a-s)),processingStart:P(a),processingEnd:P(i.processingEnd),processingTime:o(e(i.processingTime)),presentationDelay:o(e(s+i.duration-i.processingEnd))},attribution:{eventType:i.name,elementSelector:i.selector||null,elementType:i.target?.nodeName||null,loafScripts:l}}}function ht(){if(!lt)return;let n=null;if(lt.url){const i=f("resource").find(t=>t.name===lt.url);if(i){const r=u(),s=r.responseStart||c.responseStart,a=r.activationStart,l=t(0,s-a),f=i.startTime,d=(i.requestStart||f)-a,g=t(d,i.responseEnd-a),m=t(g,f-a);n={resourceLoadDelay:o(e(d-l)),resourceLoadTime:o(e(g-d)),elementRenderDelay:o(e(m-g))}}}const i=lt.startTime;return M(i)?{value:P(i),subParts:n,attribution:lt.element?{elementSelector:Y(lt.element),elementType:lt.element.nodeName}:null}:void 0}const vt=[];function Tt(t,e,n){if("function"==typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes(t)){const o=new PerformanceObserver(t=>{t.getEntries().forEach(t=>e(t))});return o.observe(Object.assign({type:t,buffered:!0},{options:n})),o}}function Et(t){return vt.filter(e=>e.entryType===t)}function yt(t,e,n,o){const i=[];for(const r in t){const s=t[r];if(Array.isArray(s))for(const t in s){const a=s[t];if("string"==typeof a&&St(a,e,n)){if(o)return r;i.push(r)}}}if(!o)return i}function St(t,e,n){const o=function(t){return new RegExp("^"+(e=t,e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&")).replace(/\*/g,".*")+"$","i");var e}(t);return"/"===t.charAt(0)?o.test(n):o.test(e+n)}let bt=window.LUX||{},wt=s;bt=function(){const r=new Q,d=function(t){const e=_(t,"spaMode",!1),n=!e&&_(t,"auto",!0);return{allowEmptyPostBeacon:_(t,"allowEmptyPostBeacon",!1),auto:n,beaconUrl:_(t,"beaconUrl",H+"/lux/"),beaconUrlFallback:_(t,"beaconUrlFallback"),beaconUrlV2:_(t,"beaconUrlV2","https://beacon.speedcurve.com/store"),conversions:_(t,"conversions"),cookieDomain:_(t,"cookieDomain"),customerid:_(t,"customerid"),errorBeaconUrl:_(t,"errorBeaconUrl",H+"/error/"),interactionBeaconDelay:_(t,"interactionBeaconDelay",200),jspagelabel:_(t,"jspagelabel"),label:_(t,"label"),maxAttributionEntries:_(t,"maxAttributionEntries",25),maxBeaconUrlLength:_(t,"maxBeaconUrlLength",8190),maxBeaconUTEntries:_(t,"maxBeaconUTEntries",20),maxErrors:_(t,"maxErrors",5),maxMeasureTime:_(t,"maxMeasureTime",6e4),measureUntil:_(t,"measureUntil",e?"pagehidden":"onload"),minMeasureTime:_(t,"minMeasureTime",0),newBeaconOnPageShow:_(t,"newBeaconOnPageShow",!1),pagegroups:_(t,"pagegroups"),samplerate:_(t,"samplerate",100),sendBeaconOnPageHidden:_(t,"sendBeaconOnPageHidden",e||n),serverTiming:_(t,"serverTiming"),spaMode:e,trackErrors:_(t,"trackErrors",!0),trackHiddenPages:_(t,"trackHiddenPages",!1)}}(bt);r.logEvent(1,[x,JSON.stringify(d)]);const h=window.document,v=window.addEventListener,C=window.removeEventListener,$=window.setTimeout,G=window.clearTimeout,at=window.encodeURIComponent,ct=h.currentScript||{};let St=0;function Lt(t){if(d.trackErrors&&(St++,t&&void 0!==t.filename&&void 0!==t.message)){(t.filename.indexOf("/lux.js?")>-1||t.message.indexOf("LUX")>-1||St<=d.maxErrors&&ne())&&((new Image).src=d.errorBeaconUrl+"?v="+F()+"&id="+ue()+"&fn="+at(t.filename)+"&ln="+t.lineno+"&cn="+t.colno+"&msg="+at(t.message)+"&l="+at(Fe())+(de()?"&ct="+de():"")+"&HN="+at(h.location.hostname)+"&PN="+at(h.location.pathname))}}v("error",Lt);let Ut=0;const Dt=[],Nt=[];let Pt={},kt=0,Bt=0,It=0,xt=1;let Ft,Ct,Mt=Be(),jt=Ie(Mt),Rt=bt.customerid;const At=[],Ot=t=>{r.logEvent(42,[t])},Ht=t=>{!function(t){vt.push(t)}(t),Ot(t)};try{Tt("longtask",Ht),Tt("element",Ht),Tt("paint",Ht),Tt("largest-contentful-paint",t=>{Ht(t),function(t){(!lt||t.startTime>lt.startTime)&&(lt=t)}(t)})&&At.push([A.LCP,ht]),Tt("layout-shift",e=>{!function(e){if(!e.hadRecentInput){const n=et[0],o=et[et.length-1],i=e.sources?e.sources.filter(t=>t.node).map(t=>({value:e.value,startTime:P(e.startTime),elementSelector:Y(t.node),elementType:t.node.nodeName})):[];et.length&&(e.startTime-o.startTime>=1e3||e.startTime-n.startTime>=5e3)?(tt=e.value,et=[e],nt=i,Z=e):(tt+=e.value,et.push(e),nt=nt.concat(i),(!Z||e.value>Z.value)&&(Z=e)),ot=t(ot,tt)}}(e),Ot(e)})&&At.push([A.CLS,it]),Tt("long-animation-frame",t=>{!function(t){rt.push(t)}(t),Ot(t)})&&At.push([A.LoAF,st]);const n=t=>{gt(t),Ot(t)};Tt("first-input",t=>{Ot(t);const o=t.processingStart-t.startTime;(!Wt||Wt<o)&&(Wt=e(o)),n(t)}),Tt("event",t=>{n(t),Ot({interactionId:t.interactionId,name:t.name,entryType:t.entryType,startTime:t.startTime,duration:t.duration,processingStart:t.processingStart,processingEnd:t.processingEnd})},{durationThreshold:0})&&At.push([A.INP,pt])}catch(t){r.logEvent(51,[t])}const _t=()=>{const t=new R({config:d,logger:r,customerId:ue(),sessionId:jt,pageId:Mt});return At.forEach(([e,n])=>{t.addCollector(e,n)}),t};let Vt=_t();ne()?r.logEvent(21,[d.samplerate]):r.logEvent(22,[d.samplerate]);const Xt=bt.ns?bt.ns-c.navigationStart:0;let Wt;a.timing||(r.logEvent(71),Ut=y(Ut,2),Vt.addFlag(2)),r.logEvent(41,[c.navigationStart]);const qt=["click","mousedown","keydown","touchstart","pointerdown"],Jt={passive:!0,capture:!0};function zt(t){Wt||(Wt=e(t),qt.forEach(function(t){C(t,$t,Jt)}))}function $t(t){let e=!1;try{e=t.cancelable}catch(t){return void r.logEvent(52)}if(e){let e=k();const n=t.timeStamp;if(n>152e7&&(e=Number(new Date)),n>e)return;const o=e-n;"pointerdown"===t.type?function(t){function e(){zt(t),o()}function n(){o()}function o(){C("pointerup",e,Jt),C("pointercancel",n,Jt)}v("pointerup",e,Jt),v("pointercancel",n,Jt)}(o):zt(o)}}function Gt(...t){if(r.logEvent(4,t),a.mark)return a.mark(...t)}function Yt(t){return function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const o=e[n];if(t===o.name)return o}return}(t,Kt())}function Kt(){const t=f("mark");return t.length?t:Dt}function Qt(){const n={},o=Yt(w),i=N();Kt().forEach(o=>{const r=o.name;if(r===w||r===L)return;const s=e(o.startTime-i);s<0||(void 0===n[r]?n[r]={startTime:s}:n[r].startTime=t(s,n[r].startTime))}),function(){const t=f("measure");return t.length?t:Nt}().forEach(t=>{if(o&&t.startTime<o.startTime)return;const r=t.name,s=e(t.startTime-i),a=e(t.duration);(void 0===n[r]||s>n[r].startTime)&&(n[r]={startTime:s,duration:a})});const r=[];for(const t in n){const{startTime:e,duration:o}=n[t],i=[t,e];void 0!==o&&i.push(o),r.push(i.join("|"))}return r}function Zt(){if(!("PerformanceLongTaskTiming"in self))return"";let t="";const o={},s={},a=Et("longtask");if(a.length){const t=N();a.forEach(n=>{let i=e(n.duration);if(n.startTime<t&&(i-=t-n.startTime),i>0){r.logEvent(43,[n]);const t=n.attribution[0].name;o[t]||(o[t]=0,s[t]=""),o[t]+=i,s[t]+=","+e(n.startTime)+"|"+i}})}const c=void 0!==o.script?"script":"unknown";void 0===o[c]&&(o[c]=0,s[c]="");const l=function(t){let o=0;const r=ae();let s=r||0,a=void 0===r;const c=[],l=t.split(",");for(let t=0;t<l.length;t++){const e=l[t].split("|");if(2===e.length){const t=parseInt(e[0]),n=parseInt(e[1]);if(c.push(n),o=n>o?n:o,!a&&t>s)if(t-s>5e3)a=!0;else{const e=P(t+n);M(e)&&(s=e)}}}const u=c.length,f=function(t){if(0===t.length)return 0;const o=e(t.length/2);return t.sort(i),t.length%2?t[o]:n((t[o-1]+t[o])/2)}(c);return{count:u,median:f,max:o,fci:s}}(s[c]),u=",n|"+l.count+",d|"+l.median+",x|"+l.max+(void 0===l.fci?"":",i|"+l.fci);return t+="s|"+o[c]+u+s[c],t}function te(){const t=[];for(const e in Pt)t.push(e+"|"+at(Pt[e]));return t.join(",")}function ee(t,e){r.logEvent(6,[t,e]),"string"==typeof t&&q(t,e),kt&&(Ft&&G(Ft),Ft=$(we,100))}function ne(){if(void 0===jt||void 0===d.samplerate)return!1;const t=(""+jt).substr(-2);return parseInt(t)<d.samplerate}function oe(t,e=!0){t?Gt(w,{startTime:t}):Gt(w),Pt={},ke(),Pe(),Bt=0,kt=0,It=0,xt=0,Mt=Be(),jt=Ie(Mt),lt=void 0,tt=0,et=[],ot=0,Z=void 0,dt=0,ut=[],ft={},rt=[],St=0,Wt=void 0,Vt=_t(),e&&(Ut=0,Ut=y(Ut,1),Vt.addFlag(1)),he()}function ie(){const t=ge();if(!t)return function(){const t=h.getElementsByTagName("script");let e=0;for(let n=0,o=t.length;n<o;n++){const o=t[n];!o.src||o.async||o.defer||e++}return e}();const e=h.getElementsByTagName("script");let n=0;for(let o=0,i=e.length;o<i;o++){const i=e[o];i.src&&!i.async&&!i.defer&&4&i.compareDocumentPosition(t)&&n++}return n}function re(t){const e=h.getElementsByTagName(t);let n=0;for(let t=0,o=e.length;t<o;t++){const o=e[t];try{n+=o.innerHTML.length}catch(t){return r.logEvent(53),-1}}return n}function se(){let t="",n=c.navigationStart;const s=Yt(w),l=Yt(L);if(s&&l&&!D()){const o=e(s.startTime);n+=o;const i=e(l.startTime)-o;t=n+"as0fs0"+(i>0?"ls"+i+"le"+i:"")}else if(a.timing){const g=u(),m=function(){if("PerformancePaintTiming"in self){const t=f("paint");if(t.length){const e=t.map(t=>t.startTime).sort(i);for(let t=0;t<e.length;t++){const n=P(e[t]);if(M(n))return n}}}a.timing&&c.msFirstPaint,0;return void r.logEvent(72)}(),p=ae(),v=function(){const t=Et("largest-contentful-paint");if(t.length){const e=t[t.length-1],n=P(e.startTime);if(M(n))return r.logEvent(43,[e]),n}return}(),T=(t,e,n)=>{if("number"==typeof g[t]){const o=g[t];if(M(o)||!n)return e+P(o)}return""};let E=T("loadEventStart","ls",!0),y=d.spaMode&&l?"le"+P(l.startTime):T("loadEventEnd","le",!0);if(D()&&s&&l){const t=e(l.startTime-s.startTime);E="ls"+t,y="le"+t}const S=u().redirectCount>0||c.redirectEnd>0,b="https:"===h.location.protocol;t=[n,"as"+o(g.activationStart),S&&!D()?T("redirectStart","rs"):"",S&&!D()?T("redirectEnd","re"):"",T("fetchStart","fs"),T("domainLookupStart","ds"),T("domainLookupEnd","de"),T("connectStart","cs"),b?T("secureConnectionStart","sc"):"",T("connectEnd","ce"),T("requestStart","qs"),T("responseStart","bs"),T("responseEnd","be"),T("domInteractive","oi",!0),T("domContentLoadedEventStart","os",!0),T("domContentLoadedEventEnd","oe",!0),T("domComplete","oc",!0),E,y,void 0!==m?"sr"+m:"",void 0!==p?"fc"+p:"",void 0!==v?"lc"+v:""].join("")}else if(l){const o=e(l.startTime);t=n+"fs0ls"+o+"le"+o}return t}function ae(){const t=f("paint");for(let e=0;e<t.length;e++){const n=t[e];if("first-contentful-paint"===n.name){const t=P(n.startTime);if(M(t))return t}}}function ce(){if("PerformanceEventTiming"in self)return mt()}function le(t){return["&INP="+t.duration,t.selector?"&INPs="+at(t.selector):"","&INPt="+e(t.startTime),"&INPi="+o(e(t.processingStart-t.startTime)),"&INPp="+o(e(t.processingTime)),"&INPd="+o(e(t.startTime+t.duration-t.processingEnd))].join("")}function ue(){if(ct.src){const t=ct.src.match(/id=(\d+)/)?.pop();t&&Rt!==t&&(Rt=t)}return Rt?String(Rt):""}function fe(t){let e=0;if(t.parentNode)for(;t=t.parentNode;)e++;return e}function de(){const t=navigator.connection;let e="";return t&&t.effectiveType&&(e=t.effectiveType,e="slow-2g"===e?"Slow 2G":"2g"===e||"3g"===e||"4g"===e||"5g"===e?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)),e}function ge(t){let e;if(t||(t=h.body),t){const n=t.children;if(n)for(let t=0,o=n.length;t<o;t++){const o=n[t];me(o)&&(e=o)}}return e?ge(e):t}function me(t){const e=h.documentElement.clientHeight,n=h.documentElement.clientWidth,o=function(t){let e=0,n=0;for(;t;)try{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}catch(t){return[e,n]}return[e,n]}(t);return o[0]>=0&&o[1]>=0&&o[0]<n&&o[1]<e&&t.offsetWidth>0&&t.offsetHeight>0}function pe(t){r.logEvent(12,[t]),t?Gt(L,{startTime:t}):Gt(L)}function he(){ve(),Ct=$(()=>{Ut=y(Ut,32),Vt.addFlag(32),Ee()},d.maxMeasureTime-B())}function ve(){Ct&&G(Ct)}function Te(t){const e=["v="+F(),"id="+ue(),"sid="+Mt,"uid="+jt,"l="+at(Fe()),"HN="+at(h.location.hostname),"PN="+at(h.location.pathname)];Ut&&e.push("fl="+Ut),bt.snippetVersion&&e.push("sv="+bt.snippetVersion);const n=z(t);return n&&(e.push("CD="+n),W={}),d.beaconUrl+"?"+e.join("&")}function Ee(o=!1){if(!g()&&!d.trackHiddenPages&&!o)return void r.logEvent(13);ve();if(!ue()||!Mt||!ne()||kt)return;r.logEvent(9);const i=Yt(w),f=Yt(L);i?d.spaMode||(!f||f.startTime<i.startTime)&&pe():f||pe();const m=function(){const t={};if(location.search&&"function"==typeof URLSearchParams){const e=new URLSearchParams(location.search);for(const n of K){const o=e.get(n);o&&(t[n]=o)}}return t}();for(const t in m)r.logEvent(44,[t,m[t]]),q("_"+t,m[t]);let v="",T=ce();It||(v=te(),""===v&&(T=void 0));const E=function(){const t=[];return Et("element").forEach(e=>{if(e.identifier&&e.startTime){const n=P(e.startTime);M(n)&&(r.logEvent(43,[e]),t.push(e.identifier+"|"+n))}}),t.join(",")}(),S=Zt(),b=it(d),U=function(){let t="";if(xt&&a.getEntriesByName&&ct.src){const n=a.getEntriesByName(ct.src);if(n&&n.length){const o=n[0],i=e(o.domainLookupEnd-o.domainLookupStart),r=e(o.connectEnd-o.connectStart),a=e(o.responseStart-o.requestStart),l=e(o.responseEnd-o.responseStart),u=i+r+a+l,f=wt-s,g=o.encodedBodySize?o.encodedBodySize:0;t="d"+i+"t"+r+"f"+a+"c"+l+"n"+u+"e"+f+"r"+d.samplerate+("number"==typeof g?"x"+g:"")+("number"==typeof Xt?"l"+Xt:"")+"s"+(s-c.navigationStart)}}return t+="m"+B(),t}();if(g()||(Ut=y(Ut,8),Vt.addFlag(8)),p()&&(Ut=y(Ut,1024),Vt.addFlag(1024)),d.serverTiming){const t=u();if(t.serverTiming){const e=function(t,e){const n={};return e.forEach(e=>{const o=e.name,i=e.description;if(o in t){const r=t[o],s=r[1];if("r"===r[0])n[o]=e.duration*(s||1);else if(i&&s){const t=parseFloat(i);isNaN(t)||(n[o]=t*s)}else n[o]=i||"true"}}),n}(d.serverTiming,t.serverTiming);for(const t in e)ee(t,e[t])}}bt.conversions&&yt(bt.conversions,location.hostname,location.pathname).forEach(t=>{bt.addData(t,"true")});const D=Te(X),N=re("script"),k=re("style"),I=u().encodedBodySize||0,x=de(),F=function(){const t=u();if("deliveryType"in t)return t.deliveryType||"(empty string)"}(),C=(Bt?"":"&NT="+se())+"&LJS="+U+"&PS=ns"+function(){const t=h.getElementsByTagName("script");let e=0;for(let n=0,o=t.length;n<o;n++)t[n].src&&e++;return e}()+"bs"+ie()+(N>-1?"is"+N:"")+"ss"+function(){const t=h.getElementsByTagName("link");let e=0;for(let n=0,o=t.length;n<o;n++){const o=t[n];o.href&&"stylesheet"==o.rel&&e++}return e}()+"bc"+function(){let t=0;const e=h.getElementsByTagName("link");for(let n=0,o=e.length;n<o;n++){const o=e[n];o.href&&"stylesheet"===o.rel&&0!==o.href.indexOf("data:")&&(o.onloadcssdefined||"print"===o.media||"style"===o.as||"function"==typeof o.onload&&"all"===o.media||t++)}return t}()+(k>-1?"ic"+k:"")+"ia"+function(){const t=h.getElementsByTagName("img"),e=[];if(t)for(let n=0,o=t.length;n<o;n++){const o=t[n];me(o)&&e.push(o)}return e}().length+"it"+h.getElementsByTagName("img").length+"dd"+function(){const t=h.getElementsByTagName("*");let e=t.length,o=0;for(;e--;)o+=fe(t[e]);return n(o/t.length)}()+"nd"+h.getElementsByTagName("*").length+"vh"+h.documentElement.clientHeight+"vw"+h.documentElement.clientWidth+"dh"+function(e){const n=e.body,o=e.documentElement;return t(n?n.scrollHeight:0,n?n.offsetHeight:0,o?o.clientHeight:0,o?o.scrollHeight:0,o?o.offsetHeight:0)}(h)+"dw"+function(e){const n=e.body,o=e.documentElement;return t(n?n.scrollWidth:0,n?n.offsetWidth:0,o?o.clientWidth:0,o?o.scrollWidth:0,o?o.offsetWidth:0)}(h)+(I?"ds"+I:"")+(x?"ct"+x+"_":"")+(void 0!==F?"dt"+F+"_":"")+"er"+St+"nt"+l()+(navigator.deviceMemory?"dm"+n(navigator.deviceMemory):"")+(v?"&IX="+v:"")+(void 0!==Wt?"&FID="+Wt:"")+(S?"&CPU="+S:"")+(E?"&ET="+E:"")+(b?"&CLS="+b.value.toFixed(6):"")+(T?le(T):""),R=Qt();let[A,O]=j(R,d,D+C);const H=D+C+(A.length>0?"&UT="+A.join(","):"");for(r.logEvent(23,[H]),Le(H),kt=1,Bt=1,It=v?1:0;O.length;){[A,O]=j(O,d,D);const t=D+"&UT="+A.join(",");r.logEvent(24,[t]),Le(t)}}let ye;function Se(){G(ye),ye=$(be,d.interactionBeaconDelay)}function be(){if(!ue()||!Mt||!ne()||It||!kt)return;const t=te(),e=ce();if(t){const n=Te(J())+"&IX="+t+(void 0!==Wt?"&FID="+Wt:"")+(void 0!==e?le(e):"");r.logEvent(25,[n]),Le(n),It=1}}function we(){if(!(ue()&&Mt&&ne()&&kt))return;if(z(J())){const t=Te(J());r.logEvent(26,[t]),Le(t)}}function Le(t){(new Image).src=t,E("beacon",t)}function Ue(){void 0===Pt.s&&(Pt.s=B())}function De(t){const{keyCode:e}=t;if(16!==e&&17!==e&&18!==e&&20!==e&&224!==e){if(void 0===Pt.k){if(Pt.k=B(),t&&t.target instanceof Element){const e=Y(t.target);e&&(Pt.ki=e)}delete Pt.s,Se()}ke()}}function Ne(t){if(void 0===Pt.c){let e;Pt.c=B(),delete Pt.s;try{t&&t.target instanceof Element&&(e=t.target)}catch(t){r.logEvent(54)}if(e){t.clientX&&(Pt.cx=t.clientX,Pt.cy=t.clientY);const n=Y(e);n&&(Pt.ci=n)}Se()}ke()}function Pe(){S("scroll",Ue),S("keydown",De),S("mousedown",Ne)}function ke(){b("scroll",Ue),b("keydown",De),b("mousedown",Ne)}function Be(t=!1){let e;return e=t?Number(new Date)+"00000":Number(new Date)+I(String(n(1e5*Math.random())),5,"0"),E("new_page_id",e),e}function Ie(t){let e=function(t){try{const e=h.cookie.split(";");for(let n=0;n<e.length;n++){const o=e[n].split("=");if(t===o[0].trim())return unescape(o[1])}}catch(t){r.logEvent(55)}return}(V);if(!e||e.length<11)e=t;else{const n=parseInt(e.substring(0,10));Number(new Date)/1e3-n>86400&&(e=t)}return xe(e),e}function xe(t){return function(t,e,n){try{h.cookie=t+"="+escape(e)+(n?"; max-age="+n:"")+(d.cookieDomain?"; domain="+d.cookieDomain:"")+"; path=/; SameSite=Lax"}catch(t){r.logEvent(56)}}(V,t,1800),t}function Fe(){if(bt.label)return Ut=y(Ut,128),Vt.addFlag(128),bt.label;if(void 0!==bt.pagegroups){const t=yt(bt.pagegroups,location.hostname,location.pathname,!0);if(t)return Ut=y(Ut,512),Vt.addFlag(512),t}if(void 0!==bt.jspagelabel){const t=Function('"use strict"; return '+bt.jspagelabel);try{const e=t();if(e)return Ut=y(Ut,256),Vt.addFlag(256),e}catch(t){r.logEvent(57,[bt.jspagelabel,t])}}return Ut=y(Ut,64),Vt.addFlag(64),h.title}if(qt.forEach(function(t){v(t,$t,Jt)}),d.auto){const t=()=>{d.trackHiddenPages?Ee():m(Ee)},e=()=>{const n=B(),o=d.minMeasureTime-n;o<=0?(r.logEvent(11,[n,d.minMeasureTime]),"onload"===d.measureUntil&&O(t)):$(e,o)};e()}d.newBeaconOnPageShow&&v("pageshow",t=>{var e;t.persisted&&(e=t.timeStamp,U=e,$(()=>{kt&&(r.logEvent(17),oe(D(),!1),pe()),Ut=y(Ut,2048),Vt.addFlag(2048)},0))}),d.sendBeaconOnPageHidden&&function(){const t=()=>{Ut=y(Ut,16),Vt.addFlag(16),r.logEvent(10),Ee(!0),be(),Vt.send()};"onpagehide"in self?S("pagehide",t,!0):(S("unload",t,!0),S("beforeunload",t,!0)),S("visibilitychange",()=>{"hidden"===h.visibilityState&&t()},!0)}(),Pe(),he();const Ce=d;function Me([t,...e]){"function"==typeof Ce[t]&&Ce[t].apply(Ce,e)}return Ce.addData=ee,Ce.cmd=Me,Ce.getSessionId=function(){return jt},Ce.mark=Gt,Ce.markLoadTime=pe,Ce.measure=function(...t){r.logEvent(5,t),t[0];let e,n=t[1];if(t[2],"object"==typeof n&&(e=t[1],n=e.start,e.end),void 0===n&&(n=Yt(w)?w:"navigationStart",e?e.end&&e.duration||(t[1].start=n):t[1]=n),a.measure)return a.measure(...t)},Ce.on=T,Ce.snippetVersion=bt.snippetVersion,Ce.version=x,Ce.init=t=>{r.logEvent(3);Yt(L)?(d.spaMode&&(Vt.send(),Ee()),oe(t)):r.logEvent(18)},Ce.startSoftNavigation=t=>{r.logEvent(14),Vt.send(),Ee(),oe(t)},Ce.send=t=>{if(d.spaMode&&!t){r.logEvent(16);const t=Yt(w),e=Yt(L);(!e||t&&e.startTime<t.startTime)&&pe()}else r.logEvent(7),Vt.send(),Ee()},Ce.getDebug=()=>(console.log("SpeedCurve RUM debugging documentation: https://support.speedcurve.com/docs/rum-js-api#luxgetdebug"),r.getEvents()),Ce.forceSample=()=>{r.logEvent(8),xe(Be(!0))},Ce.doUpdate=()=>{},bt.ac&&bt.ac.length&&bt.ac.forEach(Me),void 0!==window.LUX_ae&&window.LUX_ae.forEach(Lt),r.logEvent(2),Ce}(),window.LUX=bt,wt=r()}();
//# sourceMappingURL=lux.es2020.min.js.map
